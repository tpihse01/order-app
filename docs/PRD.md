# 커피 주문 앱

## 1.1 프로젝트명
커피 주문 앱

## 1.2 프로젝트 목적
사용자가 커피 메뉴를 주문하고, 관리자가 주문을 관리할 수 있는 간단한 풀스택 웹 앱

## 1.3 개발 범위
- 주문하기 화면(메뉴 선택 및 장바구니 기능)
- 관리자 화면(재고 관리 및 주문 상태 관리)
- 데이터를 생성/조회/수정/삭제할 수 있는 기능

## 2. 기술 스택
- 프런트엔드: HTML, CSS, 리액트, 자바스크립트
- 백엔드: Node.js, Express
- 데이터베이스: PostgreSQL

## 3. 기본 사용
- 프런트엔트와 백엔드를 따로 개발
- 기본적인 웹 기술만 사용
- 학습 목적이므로 사용자 인증이나 결제 기능은 제외
- 메뉴는 커피 메뉴만 있음

---

## 4. 주문하기 화면 PRD

### 4.1 화면 개요
사용자가 커피 메뉴를 선택하고, 옵션을 추가한 후 장바구니에 담아 주문을 진행할 수 있는 메인 화면입니다.

### 4.2 화면 구성 요소

#### 4.2.1 상단 내비게이션 바
- **위치**: 화면 최상단
- **구성 요소**:
  - 왼쪽: "COZY" 텍스트 로고
  - 오른쪽: 탭 형태의 내비게이션 버튼
    - "주문하기" 탭 (현재 활성화된 화면, 회색 배경으로 표시)
    - "관리자" 탭
- **기능**: 
  - "관리자" 탭 클릭 시 관리자 화면으로 이동

#### 4.2.2 상품 목록 섹션
- **위치**: 내비게이션 바 하단, 장바구니 섹션 상단
- **레이아웃**: 상품 카드들이 가로로 배열된 그리드 형태
- **상품 카드 구성 요소**:
  1. **상품 이미지**
     - 각 상품의 상단에 이미지 플레이스홀더 표시
     - 이미지가 없는 경우 X자 모양의 선이 그려진 직사각형 테두리로 표시
  2. **상품 정보**
     - 상품명 (예: "아메리카노(ICE)", "아메리카노(HOT)", "카페라떼")
     - 가격 (예: "4,000원", "5,000원")
     - 간단한 설명 텍스트 (예: "간단한 설명...")
  3. **옵션 선택**
     - 체크박스 형태의 옵션 제공
     - 옵션 종류:
       - "샷 추가 (+500원)"
       - "시럽 추가 (+0원)"
     - 각 옵션은 독립적으로 선택 가능
     - 옵션 선택 시 가격이 추가/변경됨
  4. **담기 버튼**
     - 각 상품 카드 하단에 위치
     - 회색 테두리의 버튼 형태
     - 클릭 시 선택된 옵션과 함께 장바구니에 추가

#### 4.2.3 장바구니 섹션
- **위치**: 상품 목록 섹션 하단
- **레이아웃**: 회색 테두리로 둘러싸인 박스 형태
- **구성 요소**:
  1. **섹션 제목**: "장바구니"
  2. **담긴 상품 목록**
     - 각 상품은 다음 정보를 표시:
       - 상품명 및 적용된 옵션 (예: "아메리카노(ICE) (샷 추가)")
       - 수량 (예: "X 1", "X 2")
       - 개별 가격 (예: "4,500원", "8,000원")
     - 상품 목록은 세로로 나열
  3. **총 금액**
     - 상품 목록 하단 오른쪽 정렬
     - "총 금액 **12,500원**" 형식으로 표시
     - 금액은 굵게 표시
  4. **주문하기 버튼**
     - 총 금액 하단에 위치
     - 회색 테두리의 버튼 형태
     - 클릭 시 주문 완료 처리

### 4.3 기능 요구사항

#### 4.3.1 상품 목록 표시
- **FR-001**: 서버에서 상품 목록을 조회하여 화면에 표시
- **FR-002**: 각 상품의 이미지, 이름, 가격, 설명을 표시
- **FR-003**: 상품 이미지가 없는 경우 플레이스홀더 표시

#### 4.3.2 옵션 선택
- **FR-004**: 각 상품에 대해 옵션을 선택할 수 있음
- **FR-005**: 옵션은 체크박스 형태로 제공되며, 여러 옵션을 동시에 선택 가능
- **FR-006**: 옵션 선택 시 추가 가격이 표시됨 (예: "+500원", "+0원")
- **FR-007**: 옵션 선택 상태는 각 상품 카드별로 독립적으로 관리됨

#### 4.3.3 장바구니 기능
- **FR-008**: "담기" 버튼 클릭 시 선택된 옵션과 함께 상품이 장바구니에 추가됨
- **FR-009**: 장바구니에 담긴 상품은 상품명, 적용된 옵션, 수량, 가격을 표시
- **FR-010**: 동일한 상품과 옵션 조합이 장바구니에 이미 있는 경우, 수량이 증가함
- **FR-011**: 장바구니에 담긴 모든 상품의 총 금액을 실시간으로 계산하여 표시
- **FR-012**: 장바구니가 비어있을 경우 적절한 안내 메시지 표시 (선택 사항)

#### 4.3.4 주문 처리
- **FR-013**: "주문하기" 버튼 클릭 시 장바구니의 모든 상품이 주문으로 전송됨
- **FR-014**: 주문 완료 후 장바구니가 비워짐
- **FR-015**: 주문 완료 시 사용자에게 확인 메시지 표시 (선택 사항)

#### 4.3.5 내비게이션
- **FR-016**: "관리자" 탭 클릭 시 관리자 화면으로 이동
- **FR-017**: 현재 활성화된 탭은 시각적으로 구분됨 (회색 배경)

### 4.4 UI/UX 요구사항

#### 4.4.1 레이아웃
- **UX-001**: 상품 카드는 반응형 그리드 레이아웃으로 배치
- **UX-002**: 모바일 환경에서는 상품 카드가 세로로 스크롤 가능하도록 배치
- **UX-003**: 장바구니 섹션은 화면 하단에 고정되거나 스크롤 가능한 형태로 배치

#### 4.4.2 시각적 피드백
- **UX-004**: 버튼 클릭 시 시각적 피드백 제공 (호버 효과, 클릭 효과)
- **UX-005**: 옵션 선택 시 체크박스 상태가 명확하게 표시됨
- **UX-006**: 장바구니에 상품이 추가될 때 시각적 피드백 제공 (선택 사항: 애니메이션)

#### 4.4.3 가격 표시
- **UX-007**: 모든 가격은 천 단위 구분 기호(쉼표)를 사용하여 표시 (예: "4,000원")
- **UX-008**: 총 금액은 다른 가격보다 크고 굵게 표시하여 강조
- **UX-009**: 옵션 추가 가격은 명확하게 표시 (예: "+500원")

#### 4.4.4 사용성
- **UX-010**: 상품 카드 내의 모든 요소가 명확하게 구분되어 보임
- **UX-011**: 버튼과 체크박스는 충분한 크기로 제공되어 클릭하기 쉬움
- **UX-012**: 장바구니가 비어있지 않을 때만 "주문하기" 버튼이 활성화됨

### 4.5 상호작용 플로우

#### 4.5.1 상품 주문 플로우
1. 사용자가 화면에 진입하면 상품 목록이 표시됨
2. 사용자가 원하는 상품 카드에서 옵션을 선택 (선택 사항)
3. 사용자가 "담기" 버튼을 클릭
4. 선택된 옵션과 함께 상품이 장바구니에 추가됨
5. 장바구니의 총 금액이 업데이트됨
6. 사용자가 추가 상품을 담거나 "주문하기" 버튼을 클릭
7. "주문하기" 버튼 클릭 시 주문이 완료되고 장바구니가 비워짐

#### 4.5.2 화면 이동 플로우
1. 사용자가 상단 내비게이션의 "관리자" 탭을 클릭
2. 관리자 화면으로 이동

### 4.6 데이터 구조 (참고)

#### 4.6.1 상품 데이터
```javascript
{
  id: number,
  name: string,
  price: number,
  description: string,
  imageUrl: string | null,
  options: [
    {
      id: number,
      name: string,
      additionalPrice: number
    }
  ]
}
```

#### 4.6.2 장바구니 아이템 데이터
```javascript
{
  productId: number,
  productName: string,
  basePrice: number,
  selectedOptions: [
    {
      optionId: number,
      optionName: string,
      additionalPrice: number
    }
  ],
  quantity: number,
  totalPrice: number
}
```

#### 4.6.3 주문 데이터
```javascript
{
  items: [
    {
      productId: number,
      productName: string,
      selectedOptions: [...],
      quantity: number,
      price: number
    }
  ],
  totalAmount: number,
  orderDate: timestamp
}
```

---

## 5. 관리자 화면 PRD

### 5.1 화면 개요
관리자가 주문 현황을 확인하고, 재고를 관리하며, 주문 상태를 변경할 수 있는 관리자 대시보드 화면입니다.

### 5.2 화면 구성 요소

#### 5.2.1 상단 내비게이션 바
- **위치**: 화면 최상단
- **구성 요소**:
  - 왼쪽: "COZY" 텍스트 로고
  - 오른쪽: 탭 형태의 내비게이션 버튼
    - "주문하기" 탭
    - "관리자" 탭 (현재 활성화된 화면, 테두리로 강조 표시)
- **기능**: 
  - "주문하기" 탭 클릭 시 주문하기 화면으로 이동

#### 5.2.2 관리자 대시보드 섹션
- **위치**: 내비게이션 바 하단
- **섹션 제목**: "관리자 대시보드"
- **구성 요소**:
  - 주문 현황 요약 정보
    - 형식: "총 주문 X / 주문 접수 Y / 제조 중 Z / 제조 완료 W"
    - 각 항목의 의미:
      - **총 주문**: 전체 주문 건수
      - **주문 접수**: 접수된 주문 건수
      - **제조 중**: 현재 제조 중인 주문 건수
      - **제조 완료**: 제조가 완료된 주문 건수
  - 실시간으로 업데이트되는 통계 정보

#### 5.2.3 재고 현황 섹션
- **위치**: 관리자 대시보드 섹션 하단
- **섹션 제목**: "재고 현황"
- **레이아웃**: 각 메뉴별로 카드 형태로 나열
- **재고 카드 구성 요소**:
  1. **메뉴명**
     - 각 메뉴의 이름 표시 (예: "아메리카노 (ICE)", "아메리카노 (HOT)", "카페라떼")
  2. **재고 수량**
     - 현재 재고 수량 표시 (예: "10개")
  3. **재고 조절 버튼**
     - "+" 버튼: 재고 증가
     - "-" 버튼: 재고 감소
     - 버튼 클릭 시 즉시 재고 수량이 업데이트됨

#### 5.2.4 주문 현황 섹션
- **위치**: 재고 현황 섹션 하단
- **섹션 제목**: "주문 현황"
- **레이아웃**: 주문 목록을 세로로 나열
- **주문 카드 구성 요소**:
  1. **주문 시간**
     - 주문이 접수된 시간 표시 (예: "7월 31일 13:00")
     - 형식: "월 일 시:분"
  2. **주문 상세 정보**
     - 메뉴명 및 수량 (예: "아메리카노(ICE) x 1")
     - 주문 가격 (예: "4,000원")
     - 옵션 정보가 있는 경우 함께 표시
  3. **주문 상태 액션 버튼**
     - "주문 접수" 버튼: 주문을 접수 상태로 변경
     - 주문 상태에 따라 버튼 텍스트가 변경될 수 있음 (예: "제조 중", "제조 완료")

### 5.3 기능 요구사항

#### 5.3.1 관리자 대시보드
- **FR-018**: 서버에서 주문 통계를 조회하여 대시보드에 표시
- **FR-019**: 총 주문 수, 주문 접수 수, 제조 중 수, 제조 완료 수를 실시간으로 표시
- **FR-020**: 주문 상태가 변경될 때마다 대시보드 통계가 자동으로 업데이트됨

#### 5.3.2 재고 관리
- **FR-021**: 서버에서 모든 메뉴의 재고 정보를 조회하여 표시
- **FR-022**: 각 메뉴별로 현재 재고 수량을 표시
- **FR-023**: "+" 버튼 클릭 시 해당 메뉴의 재고가 1 증가
- **FR-024**: "-" 버튼 클릭 시 해당 메뉴의 재고가 1 감소
- **FR-025**: 재고 수량 변경 시 서버에 즉시 반영됨
- **FR-026**: 재고 수량은 0 이상의 값만 허용 (음수 불가)

#### 5.3.3 주문 현황 관리
- **FR-027**: 서버에서 대기 중인 주문 목록을 조회하여 표시
- **FR-028**: 각 주문은 주문 시간, 메뉴 정보, 수량, 가격을 표시
- **FR-029**: 주문 목록은 최신 주문이 상단에 표시되도록 정렬
- **FR-030**: "주문 접수" 버튼 클릭 시 해당 주문의 상태가 "주문 접수"로 변경됨
- **FR-031**: 주문 상태 변경 시 관리자 대시보드의 통계가 자동으로 업데이트됨
- **FR-032**: 주문 상태 변경 후 주문 목록에서 해당 주문의 상태가 업데이트되어 표시됨
- **FR-033**: 주문이 완료되거나 취소된 경우 목록에서 제거되거나 별도로 표시됨 (선택 사항)

#### 5.3.4 내비게이션
- **FR-034**: "주문하기" 탭 클릭 시 주문하기 화면으로 이동
- **FR-035**: 현재 활성화된 탭은 시각적으로 구분됨 (테두리 강조)

#### 5.3.5 실시간 업데이트
- **FR-036**: 주문이 새로 접수되면 주문 현황 목록에 자동으로 추가됨 (선택 사항: 폴링 또는 웹소켓)
- **FR-037**: 주문 상태 변경 시 관련 통계가 자동으로 업데이트됨

### 5.4 UI/UX 요구사항

#### 5.4.1 레이아웃
- **UX-013**: 각 섹션은 명확하게 구분되어 표시됨
- **UX-014**: 재고 카드와 주문 카드는 카드 형태로 배치되어 가독성이 좋음
- **UX-015**: 모바일 환경에서는 각 카드가 세로로 스크롤 가능하도록 배치

#### 5.4.2 시각적 피드백
- **UX-016**: 버튼 클릭 시 시각적 피드백 제공 (호버 효과, 클릭 효과)
- **UX-017**: 재고 수량 변경 시 즉시 반영되어 표시됨
- **UX-018**: 주문 상태 변경 시 해당 주문 카드의 시각적 상태가 변경됨 (선택 사항: 색상 변경)

#### 5.4.3 통계 표시
- **UX-019**: 관리자 대시보드의 통계는 한눈에 파악하기 쉬운 형태로 표시
- **UX-020**: 각 통계 항목은 명확하게 구분되어 표시

#### 5.4.4 사용성
- **UX-021**: 재고 조절 버튼은 충분한 크기로 제공되어 클릭하기 쉬움
- **UX-022**: 주문 목록이 많을 경우 스크롤 가능하도록 배치
- **UX-023**: 주문 카드의 정보가 명확하게 구분되어 보임
- **UX-024**: 재고가 0에 가까울 경우 경고 표시 (선택 사항: 색상 변경)

### 5.5 상호작용 플로우

#### 5.5.1 재고 관리 플로우
1. 관리자가 화면에 진입하면 현재 재고 현황이 표시됨
2. 관리자가 특정 메뉴의 "+" 또는 "-" 버튼을 클릭
3. 재고 수량이 즉시 업데이트되어 표시됨
4. 변경 사항이 서버에 저장됨

#### 5.5.2 주문 처리 플로우
1. 관리자가 화면에 진입하면 대기 중인 주문 목록이 표시됨
2. 관리자가 특정 주문의 "주문 접수" 버튼을 클릭
3. 해당 주문의 상태가 "주문 접수"로 변경됨
4. 관리자 대시보드의 "주문 접수" 통계가 업데이트됨
5. 주문 카드의 버튼이 다음 상태로 변경될 수 있음 (예: "제조 중")

#### 5.5.3 화면 이동 플로우
1. 관리자가 상단 내비게이션의 "주문하기" 탭을 클릭
2. 주문하기 화면으로 이동

### 5.6 데이터 구조 (참고)

#### 5.6.1 주문 통계 데이터
```javascript
{
  totalOrders: number,
  receivedOrders: number,
  inProgressOrders: number,
  completedOrders: number
}
```

#### 5.6.2 재고 데이터
```javascript
{
  productId: number,
  productName: string,
  stock: number
}
```

#### 5.6.3 주문 상세 데이터
```javascript
{
  orderId: number,
  orderTime: timestamp, // "7월 31일 13:00" 형식으로 포맷
  items: [
    {
      productId: number,
      productName: string,
      selectedOptions: [
        {
          optionId: number,
          optionName: string
        }
      ],
      quantity: number,
      price: number
    }
  ],
  totalAmount: number,
  status: 'pending' | 'received' | 'in_progress' | 'completed' | 'cancelled'
}
```

#### 5.6.4 주문 상태 변경 요청 데이터
```javascript
{
  orderId: number,
  newStatus: 'received' | 'in_progress' | 'completed' | 'cancelled'
}
```

### 5.7 주문 상태 관리

#### 5.7.1 주문 상태 정의
- **pending**: 주문 대기 (주문 접수 전)
- **received**: 주문 접수 (관리자가 주문을 확인함)
- **in_progress**: 제조 중 (현재 제조 진행 중)
- **completed**: 제조 완료 (제조가 완료되어 고객에게 전달 가능)
- **cancelled**: 주문 취소 (선택 사항)

#### 5.7.2 주문 상태 전환
- 주문 접수: pending → received
- 제조 시작: received → in_progress (선택 사항: 별도 버튼 또는 자동 전환)
- 제조 완료: in_progress → completed (선택 사항: 별도 버튼)
- 주문 취소: 모든 상태 → cancelled (선택 사항)